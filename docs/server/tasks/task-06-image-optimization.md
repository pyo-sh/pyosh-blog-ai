# Task 06: 이미지 최적화 & 에셋 정리

> 업로드 이미지 리사이즈/WebP 변환 + 미참조 에셋 탐지 및 삭제

## 선행 조건

- [x] Asset 업로드 API 구현 완료

## 작업 항목

### 1. 이미지 최적화

- [ ] **이미지 처리 라이브러리 선택 (findings 기록)**
  - sharp vs jimp vs 외부 서비스
- [ ] **업로드 시 자동 최적화 파이프라인**
  - 원본 보존 + 최적화 버전 생성
  - WebP 변환
  - 리사이즈 (최대 폭/높이 제한)
  - 썸네일 생성 (게시글 목록용)
- [ ] **기존 에셋 일괄 최적화 스크립트 (선택)**

### 2. 미사용 에셋 정리

- [ ] **미참조 에셋 탐지 로직**
  - post_tb.thumbnailUrl, post content 내 이미지 참조 스캔
  - 어디에도 참조되지 않는 에셋 식별
- [ ] **`GET /api/admin/assets/unused` 구현**
  - 미사용 에셋 목록 조회
- [ ] **`DELETE /api/admin/assets/cleanup` 구현**
  - 미사용 에셋 일괄 삭제 (확인 후)

## 검증

- [ ] 이미지 업로드 시 WebP 변환 확인
- [ ] 리사이즈 동작 확인
- [ ] 미사용 에셋 탐지 정확성
- [ ] 삭제 후 참조 에셋은 유지 확인
- [ ] 기존 업로드 API 호환성
