# Task 07: 캐싱 전략 & 조회수 중복 제거 개선

> 추가 캐싱 레이어 도입 + 인메모리 조회수 중복 제거를 영속 저장소로 전환

## 선행 조건

- [x] Stats Service 구현 완료
- [x] 기존 캐싱 (카테고리 300s, sitemap/rss 3600s) 적용

## 작업 항목

### 1. 캐싱 전략 확대

- [ ] **캐싱 대상 분석 (findings 기록)**
  - 게시글 목록, 게시글 상세, 통계 등
  - Redis vs 인메모리 캐시 비교
- [ ] **캐시 레이어 구현**
  - 캐시 키 설계
  - TTL 정책 설정
  - 캐시 무효화 전략 (게시글 CRUD 시)
- [ ] **캐시 모니터링 (선택)**
  - Hit/Miss 비율 로깅

### 2. 조회수 중복 제거 개선

- [ ] **현재 인메모리 Map 문제점 분석**
  - 서버 재시작 시 초기화 → 중복 카운트
- [ ] **영속 저장소 전환**
  - Redis SET 또는 DB 기반 (post_id + IP + 시간대)
  - TTL 설정 (예: 24시간)
- [ ] **기존 Stats Service 리팩토링**

## 검증

- [ ] 캐시 적용 후 응답 시간 개선 확인
- [ ] 캐시 무효화 동작 확인
- [ ] 서버 재시작 후 조회수 중복 방지 동작
- [ ] 기존 테스트 통과
