# tmuxinator start -p tools/tmux/session.docker.yml
<%
  env_file = File.expand_path('.env')
  if File.exist?(env_file)
    File.readlines(env_file).each do |line|
      line = line.strip
      next if line.empty? || line.start_with?('#')
      key, value = line.split('=', 2)
      ENV[key] ||= value if key && value
    end
  end
%>

name: lab
root: <%= ENV.fetch('TMUX_ROOT', '.') %>

windows:
  - lab:
      layout: tiled
      panes:
        - # top-left
        - # top-right
        - # bottom-left
        - # bottom-right

  - server1:
      layout: even-vertical
      panes:
        - # pane 1
        - # pane 2
        - # pane 3
        - # pane 4

  - server2:
      layout: even-vertical
      panes:
        - # pane 1
        - # pane 2
        - # pane 3
        - # pane 4

  - client1:
      layout: even-vertical
      panes:
        - # pane 1
        - # pane 2
        - # pane 3
        - # pane 4

  - client2:
      layout: even-vertical
      panes:
        - # pane 1
        - # pane 2
        - # pane 3
        - # pane 4

  - tracker:
      layout: even-horizontal
      panes:
        - bash scripts/agent-tracker.sh  # left: agent tracker dashboard (auto-start)
        - # right: free pane
