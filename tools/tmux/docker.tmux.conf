# 패널 테두리에 이름 표시 위치
set -g pane-border-status top

# 패널 테두리에 표시될 형식
set -g pane-border-format "#P: #T"

# 패널 색상
set -g pane-border-style fg='#e9eaeb'
set -g pane-active-border-style fg='#a591e8'

# 패널 이름 변경 prefix + u 로 바인드
bind u command-prompt "select-pane -T '%%'"

# 상태 바 전체
set -g status-position bottom
set -g status-justify left
set -g status-style bg='#131415',fg='#a591e8'

# 왼쪽 비우기 (빈 문자열)
set -g status-left ''
set -g status-left-length 30

# 오른쪽: 시간 표시
set -g status-right-style bg='#131415',fg='#a591e8'
set -g status-right '%Y-%m-%d %H:%M '
set -g status-right-length 50

# 윈도우 리스트 전체 스타일 (선택된 윈도우 외)
setw -g window-status-style   fg='#c7bbf0',bg='#1d1e20'
setw -g window-status-format  ' #I:#W '

# 현재 선택된 윈도우 스타일
setw -g window-status-current-style bg='#a591e8',fg='#e9eaeb bold'
setw -g window-status-current-format ' #I:#W:#F '

# 윈도우 벨(알림) 스타일
setw -g window-status-bell-style fg='#ffbb32',bg='#f15966'

# Copy 모드
setw -g mode-style 'fg=#a5b2ff bg=#1d1e20 bold'

# Nested tmux: F12 토글 (inner 키바인딩 on/off)
bind -T root F12 \
  set prefix None \;\
  set key-table off \;\
  set status-style 'fg=#666666,bg=#1d1e20' \;\
  set window-status-current-style 'fg=#666666,bg=#1d1e20' \;\
  set window-status-current-format ' #I:#W (OFF) ' \;\
  refresh-client -S

bind -T off F12 \
  set -u prefix \;\
  set -u key-table \;\
  set -u status-style \;\
  set -u window-status-current-style \;\
  set -u window-status-current-format \;\
  refresh-client -S

# TUI 렌더링 (Claude Code 등 터미널 앱 호환)
set -g default-terminal "tmux-256color"
set -ga terminal-overrides ",xterm-256color:Tc,tmux-256color:Tc"
set -g escape-time 10
set -g focus-events on
set -g allow-passthrough on

# settings
set -g mouse on
set -g history-limit 10000
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-resurrect'
run '~/.tmux/plugins/tpm/tpm'
